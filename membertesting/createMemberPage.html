<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Wireframe</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <!-- Header -->
    <header>
        <div class="logo">Your Logo</div>
        <div class="title">Website Wireframe</div>
        <nav>
            <a href="events.html">Link 1</a>
            <a href="#">Link 2</a>
            <a href="#">Link 3</a>
            <a href="#" class="menu-icon">â˜°</a>
        </nav>
    </header>
    
    <main>

    
    <!-- Create Member Form -->
  
        <h1>Create Member</h1>
        
        <form id="createMemberForm" method="POST">
           
            <label for="name">Name:</label>
            <input type="text" id="name" name="name"><br><br>

            <label for="role">Role(s):</label>
            <input type="text" id="role" name="role"><br><br>

            <button type="submit">Save</button>
          
        </form>

        <!--just copied most of the code from create event for this with a few tweaks-->
        <div id="popup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border: 1px solid #ccc; z-index: 1000;">
            <span id="popupMessage"></span>
            <br><br>
            <button onclick="closePopup()">Close</button>
        </div>
        <div id="overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;"></div>

        
        <script>
           // Form submission
            document.getElementById("createMemberForm").addEventListener("submit", function (event) {
                event.preventDefault(); // No default form action
        
                const formData = new FormData(this); // Form data
        
                // AJAX (Asynchronous JavaScript and XML) request, just figured out how to use it
                // Uses fetch which waits for createEventScript.php
                // Then displays the response of createEventScript.php in the popup
                fetch("createMemberScript.php", {
                    method: "POST",
                    body: formData,
                })
                    .then((response) => response.text()) // Expecting a plain text response
                    .then((data) => {
                        // Response
                        isSuccess = true;
                        document.getElementById("popupMessage").innerHTML = data;
                        document.getElementById("popup").style.display = "block";
                        document.getElementById("overlay").style.display = "block";
                       
                    })
                    // In case of errors
                    .catch((error) => {
                        isSuccess = false;
                        document.getElementById("popupMessage").innerHTML = "Error: " + error.message;
                        document.getElementById("popup").style.display = "block";
                        document.getElementById("overlay").style.display = "block";
                    });
            });
        
            // Close popup
            function closePopup() {
                document.getElementById("popup").style.display = "none";
                document.getElementById("overlay").style.display = "none";
                if (isSuccess)
                {
                    //we redirect only if they succeedded
                     window.location.href = "searchMemberPage.html"
                }
               
            }
        </script>
    </main>
    <!-- Footer -->
    <footer>
        <p>Footer</p>
    </footer>

   

</body>
</html>